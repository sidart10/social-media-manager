name: linkedin-post-multiimage
description: Post LinkedIn carousel with 2-20 images (grid layout)

instructions: |
  # LinkedIn Multi-Image Carousel Workflow

  Create a LinkedIn post with 2-20 images displayed as a grid/carousel.

  ## Steps

  ### 1. Gather Post Text

  Ask the user for the caption:
  - "What caption would you like for your image carousel?"
  - "This will appear above the images"

  **Store as**: `post_text`

  ### 2. Gather Image Paths

  Ask for image file paths:
  - "Provide paths to your images (2-20 images)"
  - "Separate multiple paths with commas or provide as array"
  - "Supported formats: JPG, PNG, GIF"
  - "LinkedIn displays as grid/swipeable gallery"

  **Important**: Must be ABSOLUTE paths!

  **Example input:**
  ```
  /Users/sid/Desktop/img1.jpg, /Users/sid/Desktop/img2.jpg, /Users/sid/Desktop/img3.jpg
  ```

  **Store as**: `image_paths` (array)

  ### 3. Optional: Ask for Alt Text

  For accessibility:
  - "Would you like to add alt text for accessibility? [yes/no]"

  If yes, for each image:
  - "Describe image 1:"
  - "Describe image 2:"
  - etc.

  **Store as**: `alt_texts` (array, same length as image_paths)

  ### 4. Validate Images

  ```javascript
  import { existsSync } from 'fs';
  import { stat } from 'fs/promises';
  import { extname } from 'path';

  const errors = [];
  const warnings = [];

  // Check count
  if (image_paths.length < 2) {
    errors.push('Multi-image posts require minimum 2 images (use single image workflow for 1 image)');
  }

  if (image_paths.length > 20) {
    errors.push('Maximum 20 images per LinkedIn post');
  }

  // Check each image
  for (let i = 0; i < image_paths.length; i++) {
    const path = image_paths[i].trim();

    if (!existsSync(path)) {
      errors.push(`Image ${i + 1} not found: ${path}`);
      continue;
    }

    const ext = extname(path).toLowerCase();
    const validFormats = ['.jpg', '.jpeg', '.png', '.gif'];
    if (!validFormats.includes(ext)) {
      errors.push(`Image ${i + 1} invalid format: ${ext} (use JPG, PNG, or GIF)`);
    }

    const stats = await stat(path);
    const sizeMB = stats.size / (1024 * 1024);
    if (sizeMB > 10) {
      warnings.push(`Image ${i + 1} is ${sizeMB.toFixed(1)}MB - may exceed pixel limit`);
    }
  }

  if (errors.length > 0) {
    console.log('âœ— Validation errors:');
    errors.forEach(error => console.log(`  - ${error}`));
    return;
  }

  if (warnings.length > 0) {
    console.log('âš ï¸  Warnings:');
    warnings.forEach(warning => console.log(`  - ${warning}`));
  }
  ```

  ### 5. Show Preview

  ```
  Preview:
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Platform: LinkedIn Multi-Image Carousel
  Text: [post_text]
  Images: X images
    1. [filename1] (X.X MB)
    2. [filename2] (X.X MB)
    3. [filename3] (X.X MB)
    ...
  Alt Text: [Yes/No]
  Display: Grid layout (swipeable on mobile)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ```

  Ask for confirmation: "Post this carousel to LinkedIn? [yes/no]"

  ### 6. Post Multi-Image Carousel

  ```javascript
  import { LinkedInClient } from './bmad/modules/linkedin-api-client/index.js';

  const client = new LinkedInClient();

  console.log(`Uploading ${image_paths.length} images to LinkedIn...`);
  console.log('This may take a few seconds...');

  const result = await client.postMultiImage(
    post_text,
    image_paths,
    alt_texts || []
  );

  if (result.success) {
    console.log(`âœ… Posted multi-image carousel to LinkedIn successfully!`);
    console.log();
    console.log('Details:');
    console.log(`  Post ID: ${result.id}`);
    console.log(`  Post URN: ${result.urn}`);
    console.log(`  Images: ${image_paths.length} uploaded`);
    console.log(`  Display: Grid carousel`);
    console.log();
    console.log('View your carousel on LinkedIn!');
    console.log('(Check your profile - images show as grid/swipeable gallery)');

    // Show rate limits
    const stats = client.getRateLimitStats();
    console.log();
    console.log('Rate Limits:');
    console.log(`  Today: ${stats.counts.daily}/${stats.limits.DAILY} posts`);
    console.log(`  Remaining: ${stats.remaining.daily} posts`);
  } else {
    console.log('âœ— Failed to post multi-image carousel');
    console.log(`  Error: ${result.error}`);

    if (result.error.includes('Image upload failed')) {
      console.log();
      console.log('Solution: Check image files');
      console.log('  - Verify all paths are correct and absolute');
      console.log('  - Check file sizes (under 10MB recommended)');
      console.log('  - Ensure all formats are JPG, PNG, or GIF');
      console.log('  - Make sure all files are readable');
    } else if (result.error.includes('Validation failed')) {
      console.log();
      console.log('Solution: Fix validation errors');
      console.log('  - Need 2-20 images for multi-image posts');
      console.log('  - Use single image workflow for 1 image');
      console.log('  - All images must exist and be readable');
    }
  }
  ```

  ## Example Usage

  ```
  User: "I want to post a carousel with 5 photos to LinkedIn"

  Agent: "What caption would you like for your image carousel?"

  User: "Here are 5 key moments from our product launch event! ðŸŽ‰

  Swipe through to see:
  â†’ Opening ceremony
  â†’ Product demo
  â†’ Team celebration
  â†’ Customer reactions
  â†’ Final toast

  #productlaunch #milestone #team"

  Agent: "Provide paths to your images (2-20 images)"

  User: "/Users/sid/Desktop/launch1.jpg, /Users/sid/Desktop/launch2.jpg, /Users/sid/Desktop/launch3.jpg, /Users/sid/Desktop/launch4.jpg, /Users/sid/Desktop/launch5.jpg"

  Agent: "Would you like to add alt text for accessibility? [yes/no]"

  User: "yes"

  Agent: "Describe image 1:"
  User: "Opening ceremony with ribbon cutting"

  Agent: "Describe image 2:"
  User: "Product demonstration on stage"

  [... continue for all 5 ...]

  Agent:
  Preview:
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Platform: LinkedIn Multi-Image Carousel
  Text: Here are 5 key moments...
  Images: 5 images
    1. launch1.jpg (2.1 MB)
    2. launch2.jpg (1.8 MB)
    3. launch3.jpg (2.3 MB)
    4. launch4.jpg (1.9 MB)
    5. launch5.jpg (2.2 MB)
  Alt Text: Yes (5 descriptions)
  Display: Grid layout (swipeable on mobile)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  Post this carousel to LinkedIn? [yes/no]

  User: "yes"

  Agent: "Uploading 5 images to LinkedIn..."

  âœ… Posted multi-image carousel to LinkedIn successfully!

  Details:
    Post ID: 7123456789012345678
    Post URN: urn:li:share:7123456789012345678
    Images: 5 uploaded
    Display: Grid carousel

  View your carousel on LinkedIn!

  Rate Limits:
    Today: 3/150 posts
    Remaining: 147 posts
  ```

  ## Tips for Great Carousels

  1. **Tell a Story**: Order images to create narrative flow
  2. **Consistent Style**: Use similar filters/editing for cohesion
  3. **First Image Matters**: Grabs attention in feed
  4. **Alt Text**: Describe each image for accessibility
  5. **Caption Teases**: "Swipe to see..." creates curiosity

  ## Multi-Image vs PDF Carousel

  **Use Multi-Image When:**
  - âœ… You have 2-20 photos/screenshots
  - âœ… Images are standalone (no text overlay)
  - âœ… Quick posting (no PDF creation)
  - âœ… Photo galleries, before/after, product showcases

  **Use PDF When:**
  - âœ… Want true carousel swipe (not grid)
  - âœ… Content has text overlays/infographics
  - âœ… Professional presentations
  - âœ… More than 20 slides

  ## Processing Time

  - Upload 2 images: ~3-4 seconds
  - Upload 5 images: ~5-8 seconds (parallel)
  - Upload 20 images: ~15-20 seconds
  - LinkedIn processes uploads in parallel

  ## Notes

  - LinkedIn displays as grid on desktop
  - Swipeable gallery on mobile
  - Great for engagement (visual storytelling)
  - Counts as 1 post toward daily limit
