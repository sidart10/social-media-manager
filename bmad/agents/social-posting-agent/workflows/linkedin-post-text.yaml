name: linkedin-post-text
description: Post text-only update to LinkedIn personal account

instructions: |
  # LinkedIn Text Post Workflow

  Post text-only update to your personal LinkedIn account.

  ## Steps

  ### 1. Gather Post Text

  Ask the user for the post text:
  - "What would you like to post on LinkedIn?"
  - "LinkedIn supports up to 3,000 characters"
  - "Tip: Keep first 140 characters engaging (mobile hook)"

  **Best practices:**
  - First 140 chars = Hook (mobile visible)
  - Use line breaks for readability
  - 3-5 relevant hashtags
  - Total: 150-300 words optimal (~800-1,600 chars)

  **Store as**: `post_text`

  ### 2. Validate Text

  ```javascript
  const errors = [];
  const warnings = [];

  if (!post_text || post_text.trim().length === 0) {
    errors.push('Text is required');
  }

  if (post_text.length > 3000) {
    errors.push('Text exceeds LinkedIn limit (3,000 characters)');
  }

  if (post_text.length > 1600) {
    warnings.push('Text over 1,600 chars may reduce engagement');
  }

  const firstLine = post_text.split('\n')[0];
  if (firstLine.length > 140) {
    warnings.push('First line over 140 chars - may be truncated on mobile');
  }

  if (errors.length > 0) {
    console.log('✗ Validation errors:');
    errors.forEach(error => console.log(`  - ${error}`));
    return;
  }

  if (warnings.length > 0) {
    console.log('⚠️  Warnings:');
    warnings.forEach(warning => console.log(`  - ${warning}`));
  }
  ```

  ### 3. Show Preview

  ```
  Preview:
  ─────────────────────────────────────────
  Platform: LinkedIn
  Text: [post_text]
  Length: X characters
  First line: [first 140 chars]
  ─────────────────────────────────────────
  ```

  Ask for confirmation: "Post this to LinkedIn? [yes/no]"

  ### 4. Post to LinkedIn

  ```javascript
  import { LinkedInClient } from './bmad/modules/linkedin-api-client/index.js';

  const client = new LinkedInClient();

  console.log('Posting to LinkedIn...');

  const result = await client.postText(post_text);

  if (result.success) {
    console.log('✅ Posted to LinkedIn successfully!');
    console.log();
    console.log('Details:');
    console.log(`  Post ID: ${result.id}`);
    console.log(`  Post URN: ${result.urn}`);
    console.log(`  Length: ${post_text.length} characters`);
    console.log();
    console.log(`View your post on LinkedIn!`);
    console.log(`(Check your LinkedIn profile feed)`);

    // Show rate limits
    const stats = client.getRateLimitStats();
    console.log();
    console.log('Rate Limits:');
    console.log(`  Today: ${stats.counts.daily}/${stats.limits.DAILY} posts`);
    console.log(`  Remaining: ${stats.remaining.daily} posts today`);
  } else {
    console.log('✗ Failed to post to LinkedIn');
    console.log(`  Error: ${result.error}`);

    if (result.error.includes('Not authenticated')) {
      console.log();
      console.log('Solution: Run LinkedIn OAuth flow first');
      console.log('  1. Get auth URL: client.getAuthUrl()');
      console.log('  2. Authorize in browser');
      console.log('  3. Get code and authenticate');
    }
  }
  ```

  ## Example Usage

  ```
  User: "I want to post a text update to LinkedIn"

  Agent: "What would you like to post on LinkedIn?"

  User: "Excited to share that we just built a complete social media automation agent! 🚀

  Key features:
  • Twitter Premium support (25k characters)
  • LinkedIn with carousel posts
  • YouTube video uploads

  Built with APIs and AI collaboration. Check out the code on GitHub!

  #automation #AI #socialmedia #API"

  Agent:
  Preview:
  ─────────────────────────────────────────
  Platform: LinkedIn
  Text: Excited to share that we just built...
  Length: 287 characters
  First line: Excited to share that we just built a complete social media automation agent! 🚀
  ─────────────────────────────────────────

  Post this to LinkedIn? [yes/no]

  User: "yes"

  Agent: "Posting to LinkedIn..."

  ✅ Posted to LinkedIn successfully!

  Details:
    Post ID: 123456789
    Post URN: urn:li:share:123456789
    Length: 287 characters

  View your post on LinkedIn!
  (Check your LinkedIn profile feed)

  Rate Limits:
    Today: 1/150 posts
    Remaining: 149 posts today
  ```

  ## Tips for Users

  1. **Hook First**: Put your key message in the first 140 characters
  2. **Use Line Breaks**: Makes posts more readable
  3. **Hashtags**: 3-5 relevant hashtags (not spammy)
  4. **Call to Action**: End with a question or CTA
  5. **Optimal Length**: 150-300 words for best engagement

  ## Common Issues

  ### "Not authenticated"
  - Run OAuth flow first
  - Get authorization URL
  - Authorize in browser
  - Provide code to authenticate

  ### "Text exceeds limit"
  - LinkedIn max: 3,000 characters
  - Recommended: 800-1,600 characters
  - Keep it concise for engagement

  ### "Rate limit exceeded"
  - LinkedIn allows 150 posts per day
  - Check rate limit stats
  - Wait for daily reset

  ## Processing Time

  - Text post: ~1-2 seconds
  - Includes validation and posting
  - Returns immediately

  ## Notes

  - Posts to YOUR personal LinkedIn account
  - Visibility: Public (main feed)
  - No media attachments for text-only
  - Use other workflows for images/PDFs
